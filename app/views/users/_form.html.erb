<%= form_with(model: user) do |form| %>
  	<% if user.errors.any? %>
		<div style="color: red">
			<h2><%= pluralize(user.errors.count, "error") %> prohibited this user from being saved:</h2>

			<ul>
				<% user.errors.each do |error| %>
					<li><%= error.full_message %></li>
				<% end %>
			</ul>
		</div>
  	<% end %>

    <div class="row justify-content-end">
		<div class="col col-sm-4 col-lg-3">
			<div class="input-group mb-3">
				<%= form.label :role, class: 'input-group-text' %>
                <%= form.select :role, [
                    ["Admin", "admin"], 
                    ["Moderator", "moderator"]
                ], 
                { include_blank: false }, 
                { class: "form-select", disabled: user.id == 1 ? true : false } %>
            </div>
		</div>
	</div>

    <div class="mb-3">
        <%= form.label :name, class: 'form-label' %>
        <%= form.text_field :name, class: 'form-control', required: true %>
    </div>

    <div class="row">
        <div class="col col-sm-6">
            <div class="mb-3">
                <%= form.label :username, class: 'form-label' %>
                <%= form.text_field :username, class: 'form-control', required: true, disabled: user.id == 1 ? true : false %>
            </div>
        </div>
        <div class="col col-sm-6">
            <div class="mb-3">
                <%= form.label :password, class: 'form-label' %>
                <%= form.password_field :password, class: 'form-control', autocomplete: 'on', required: true %>
            </div>
        </div>
    </div>

    

    <%= form.submit submit_text, class: 'w-100 btn btn-lg btn-primary mt-3' %>
<% end %>